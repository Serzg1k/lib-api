version: "3.9"
services:
  php:
    image: php:8.2-cli
    working_dir: /app
    volumes: [".:/app"]
    command: bash -lc "php -S 0.0.0.0:80 -t api/web"
    ports: ["8080:80"]
    depends_on: [db]
  db:
    image: mysql:8
    environment:
      MYSQL_DATABASE: library
      MYSQL_ROOT_PASSWORD: root
      MYSQL_USER: app
      MYSQL_PASSWORD: app
    ports: ["3306:3306"]